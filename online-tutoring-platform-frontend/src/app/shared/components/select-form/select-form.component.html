<div class="relative w-full">
  @if (label(); as label) {
    <label class="block text-sm font-medium">
      {{ label }} <span class="text-red-600" *ngIf="required()">*</span>
    </label>
  }
  
  <div class="mt-1">
    <!-- Input field for client selection -->
    <div
      class="flex items-center justify-between w-full p-3 border border-app-primary-purple-light outline-none rounded-lg cursor-pointer"
      (click)="toggleDropdown()"
    >
      <div class="flex items-center space-x-3">
        <span>{{ selectedItem[unit()]}}</span>
      </div>
      <svg
        class="w-5 h-5 text-gray-500"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M19 9l-7 7-7-7"
        ></path>
      </svg>
    </div>

    <!-- Dropdown menu for clients -->
    @if (isOpen) {
      <div class="absolute left-0 right-0 z-20 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg">
        <ul class="max-h-60 overflow-y-auto bg-white p-2 border border-app-primary-purple-light shadow-lg rounded-md">
          @for (itemSelect of dataSelect(); track $index) {
            <li
              (click)="ToggeleSelectItem(itemSelect)"
              class="flex items-center justify-between p-3 hover:bg-gray-100 cursor-pointer rounded-md"
            >
              <div class="flex items-center space-x-3">
                <span>{{ itemSelect[unit()] }}</span>
              </div>
            </li>
          }
        </ul>
      </div>
    }
  </div>
</div>